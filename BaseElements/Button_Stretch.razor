@using ElementsLib.Models
@inherits WebBlockModel

<Scaffolding ChildWebBlockModel="this">
    <a @onclick="ButtonClick" href="@Button.Reference" class="button_stretch" style="@Button.WebStyles @_styles">
        <span class="button_stretch__text" style="@Button.Text.Styles">
            @Button.Text
        </span>
        @if (Button.BackgroundImage != null)
        {
            <div class="button_stretch__image">
                <img src=@(Button.BackgroundImage) alt="">
            </div>
        }
    </a>
</Scaffolding>


@code {

    private void ButtonClick()
    {
        Button.Action?.Invoke();
    }
    
    [Parameter] public WebButtonModel Button { get; set; }

    [Parameter] public WebText Text { get; set; } = "";
    [Parameter] public string? RedirectLink { get; set; }
    [Parameter] public override WebColor? BackgroundColor { get; set; } = new WebColor("#00c797");
    [Parameter] public override WebColor? FontColor { get; set; } = new WebColor("#fff");
    [Parameter] public Action? Action { get; set; }
    [Parameter] public WebSize? Height { get; set; } = new WebSizePercent(100);
    [Parameter] public WebSize? Width { get; set; } = new WebSizePercent(100);
    
    private string _styles 
    {
        get
        {
            var returnString = "";
            returnString += Height != null ? $"height: {Height}; " : "";
            returnString += Width != null ? $"width: {Width}; " : "";
            return returnString;
        }
    }
}
